<p style="padding-top:15px;margin-bottom:15px" class="ng-scope">The pedigree module's capabilities can be used by external systems without needing to use The Ark as the primary study data management system. This tab demonstrates how The Ark's web services can be used to produce a visualisation of pedigree data that are not stored in The Ark. The visualisation is returned in Scalable Vector Graphics (SVG) format and rendered directly within the browser.</p>
<p >Use the form below to construct a pedigree subject-by-subject. Alternatively, load one of the three pre-configured example pedigrees.</p>
<div class="side-form">
	<div class="content">
		<div class="form-container">
			<form method="post" name="visualForm" novalidate>
				<div class="form-group">
					<label style="margin-top:15px;margin-bottom:15px;font-size:18px" for="name">Visualise a pedigree without persisting subject, relationship and twin data in The Ark</label>
				</div>
				<div style="display: inline-block;   padding: 10px;     margin-bottom: 20px;    background-color: #f5f5f5;    border: 1px solid #e3e3e3;  border-radius: 4px;">
				<div class="col-md-6">
					<div class="form-group col-md-12 " >
						<label class="control-label col-md-4" for="subjectUID">Family ID</label>
						<input  style ="width: 300px;" type="text" class="form-control" disabled="true"  name="indivUID" ng-model="vm.pedRow.familyId" >
						</div>
				</div>
				
				<div class="col-md-6">
					<div class="form-group col-md-12 required" >
						<label class="control-label col-md-5" for="subjectUID">Individual ID</label>
						<input  style ="width: 275px;" type="text" class="form-control" id="indivUID" name="indivUID" ng-model="vm.pedRow.individualId" required >
					
						</div>
				</div>
				
				<div class="col-md-6 ">
						<div class="form-group col-md-12 " >
							<label class="control-label col-md-4" for="subjectUID">Father UID</label>
							<input style ="width: 300px;" type="text" class="form-control" name="fathUID" ng-model="vm.pedRow.father" >
							
							</div>
				</div>
				
				<div class="col-md-6 ">
				   <div class="form-group col-md-12  " >
								<label class="control-label col-md-5" for="subjectUID">Mother UID</label>
								<input style ="width: 275px;" type="text" class="form-control" name="mothUID" ng-model="vm.pedRow.mother" required>
								
								</div>
				</div>
				
				<div class="col-md-6">
								<div class="form-group col-md-12 " >
									<label class="control-label col-md-4" for="subjectUID">Gender</label>
									<select style ="width: 300px;" ng-model="vm.pedRow.gender" class="form-control" ng-options="x for x in genderTypes" required ></select>
                                 						
							</div>
				</div>
			   
	        	<div class="col-md-6">
				     <div class="form-group col-md-12" >
				                    <label class="control-label col-md-5" for="lastname" >Date Of Birth</label>
				                  <md-datepicker style ="display: inline-block;  background-color: whitesmoke;" ng-model = "vm.pedRow.dOB"  md-placeholder = "Enter date" md-current-view="year"></md-datepicker>

                     </div>	
                </div>

			   <div class="col-md-6">
								<div class="form-group col-md-12 " >
									<label class="control-label col-md-4" for="subjectUID">Zygosity</label>
									<select style ="width: 300px;" ng-model="vm.pedRow.zygosity" class="form-control" ng-options="x for x in twinTypes" ></select>
								</div>
				</div>
				
				
				<div class="col-md-6">
                            <div class="form-group col-md-12 " >
			                    <label class="control-label col-md-5" for="subjectUID">Proband</label>
			                    <select style ="width: 275px;" ng-model="vm.pedRow.proband" class="form-control" ng-options="x for x in YesNo"  ng-disabled="vm.isDisabledProband" ></select>

                        </div>


                </div>
				<div class="col-md-6">
                            <div class="form-group col-md-12 " >
			                    <label class="control-label col-md-4" for="subjectUID">Deceased</label>
			                    <select style ="width: 300px;" ng-model="vm.pedRow.deceased" class="form-control" ng-options="x for x in YesNo" ></select>

                        </div>


                </div>
				
				<div class="col-md-6">
                            <div class="form-group col-md-12 " >
			                    <label class="control-label col-md-5" for="subjectUID">Affected</label>
			                    <select style ="width: 275px;" ng-model="vm.pedRow.affected" class="form-control" ng-options="x for x in AffectedTypes" ></select>

                        </div>


                </div>
				
<div class="col-md-12">
				 <div class="form-group col-md-12"  ng-show="vm.showError">
				                   <p style="    background-color: red;    font-weight: bold;
}">Please fill all the mandotary fields to  adding a row. </p>
                </div>	
                  </div>					  
								</div>
								<div class="form-group">                   
									<button id="button3" class="btn btn-primary"  ng-click="vm.addRow()">Add Subject</button>
								</div>
									<table class="table table-striped  table-bordered  table-hover subjects-table">
									<tr style="background: rgb(245, 226, 233);    ">
										<th>Individual UID</th>
										<th>Father UID</th>
										<th >Mother UID</th>
										<th >Gender</th>
										<th>Zygosity</th>
										<th>Proband</th>
										<th >Deceased</th>
										<th >Affected</th>
										<th>Date Of Birth</th>
										
									</tr>
									<tr ng-repeat="ped in vm.peds"  data-ng-hide="ped.isRemoved">
										<td style="border: solid 1px #CCC">
											<label>{{ped.individualId}}</label>
										</td>
										<td >
											<label>{{ped.father}}</label>
										</td>
										<td >
											<label>{{ped.mother}}</label>
										</td>
										<td >
											<label>{{ped.gender}}</label>
										</td>
										<td >
											<label>{{ped.zygosity}}</label>
										</td>
										<td>
											<label>{{ped.proband}}</label>
										</td>
										
										
										
										<td>
											<label>{{ped.deceased}}</label>
										</td>
										<td >
											<label>{{ped.affected}}</label>
										</td>
										<td>
											<label>{{ped.dOB  | date:'yyyy-MM-dd'}}</label>
										</td>
										<td>
											<input type="checkbox" ng-model="ped.Remove"/>
										</td>
									</tr>
								</table>
								<div class="form-group" ng-show="vm.showRemove">
									
									<button class="btn btn-danger" ng-click="vm.removeRow()">Remove Subject(s)</button>
								</div>
								<div class="form-group">
								    <label>Loadable examples:</label>
									<button id="button1" style="    background-color: lightblue;margin-right:10px" class="btn btn-default"  ng-click="vm.loadFile1()">Nuclear family</button>
									<button id="button2" class="btn btn-default"  ng-click="vm.loadFile2()" style="margin-right:10px">Large with twins</button>
									<button id="button3" class="btn btn-primary"  ng-click="vm.loadFile3()">Consanguinity</button>
								</div>
								<div class="form-group" style="padding-bottom:15px">
									<a class="btn btn-default" ui-sref="visualisations" ng-click="vm.clear()">Clear</a>
									<button id="button4" class="btn btn-primary" ng-click="vm.findByFile()">Visualise Pedigree</button>
								</div>
							</form>
						</div>
					</div>
					<div class="background"></div>
				</div>
				<div id="container"      style="text-align: center;" ng-bind-html="vm.visual.svg"></div>
<div class="form-group col-md-12 alert alert-danger fade in" ng-show="visualisation_error_show">

    <span>{{visualisation_error}}</span>
   </div>